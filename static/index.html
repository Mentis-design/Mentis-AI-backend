<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mentis — Learn Smarter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- MathJax for equations -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body class="bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white min-h-screen">

  <!-- Header -->
  <header class="p-6 border-b border-white/10">
    <h1 class="text-3xl font-bold tracking-tight">Mentis</h1>
    <p class="text-slate-400 text-sm">Learn deeply. Remember longer.</p>
  </header>

  <!-- Main -->
  <main class="max-w-4xl mx-auto p-6 space-y-6">

    <!-- Input -->
    <div class="bg-white/5 rounded-xl p-4 border border-white/10">
      <textarea
        id="question"
        placeholder="Ask anything…"
        class="w-full h-24 bg-transparent text-white placeholder-slate-400 outline-none resize-none"
      ></textarea>
      <button
        onclick="ask()"
        class="mt-4 px-6 py-2 bg-indigo-500 hover:bg-indigo-600 rounded-lg font-semibold transition"
      >
        Ask Mentis
      </button>
    </div>

    <!-- Output -->
    <div
      id="answer"
      class="bg-white/5 rounded-xl p-6 border border-white/10 prose prose-invert max-w-none"
    >
      <p class="text-slate-400">Your answer will appear here…</p>
    </div>

  </main>

  <!-- Script -->
  <script>
    async function ask() {
      const q = document.getElementById("question").value;
      const answerBox = document.getElementById("answer");

      answerBox.innerHTML = "<p class='text-slate-400'>Thinking…</p>";

      try {
        const res = await fetch("/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question: q })
        });

        const data = await res.json();

        answerBox.innerHTML = data.answer;

        // Re-render math
        MathJax.typesetPromise();

      } catch (err) {
        answerBox.innerHTML =
          "<p class='text-red-400'>Something went wrong. Try again.</p>";
      }
    }
  </script>

</body>
    </html>
